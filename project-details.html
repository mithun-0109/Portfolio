<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Project Details</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Outfit:wght@500;700;800&display=swap"
        rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/remixicon@3.5.0/fonts/remixicon.css" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <style>
        .project-header {
            height: 60vh;
            min-height: 400px;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
        }

        .project-bg-img {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
            z-index: -1;
            filter: brightness(0.4);
        }

        .project-title-large {
            font-family: var(--font-heading);
            font-size: 4rem;
            color: #fff;
            text-align: center;
            text-shadow: 0 4px 10px rgba(0, 0, 0, 0.5);
            padding: 0 1rem;
        }

        .content-container {
            max-width: 900px;
            margin: -50px auto 50px;
            position: relative;
            z-index: 10;
        }

        .content-card {
            background: rgba(255, 255, 255, 0.85);
            backdrop-filter: blur(20px);
            border: 1px solid white;
            padding: 3rem;
            border-radius: 24px;
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.1);
        }

        .back-btn {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            color: var(--text-color);
            text-decoration: none;
            margin-bottom: 2rem;
            font-weight: 600;
            transition: var(--transition);
        }

        .back-btn:hover {
            color: var(--primary-color);
            transform: translateX(-5px);
        }

        .project-description {
            font-size: 1.1rem;
            line-height: 1.8;
            color: #334155;
            white-space: pre-wrap;
            /* Preserves line breaks from textarea */
        }

        @media screen and (max-width: 768px) {
            .project-title-large {
                font-size: 2.5rem;
            }

            .content-card {
                padding: 1.5rem;
                margin: -30px 1rem 30px;
            }
        }
    </style>
</head>

<body>
    <!-- Navbar (Simplified) -->
    <nav class="navbar" style="position:fixed;">
        <div class="logo">Mithun.</div>
        <ul class="nav-links">
            <li><a href="index.html">Home</a></li>
            <li><a href="works.html">All Works</a></li>
        </ul>
        <div class="burger">
            <div class="line1"></div>
            <div class="line2"></div>
            <div class="line3"></div>
        </div>
    </nav>

    <div id="project-container">
        <!-- Content Injected Here -->
        <header class="project-header">
            <img src="" class="project-bg-img" id="pDetailImage">
            <h1 class="project-title-large fade-in" id="pDetailTitle">Loading...</h1>
        </header>

        <div class="content-container fade-in">
            <div class="content-card">
                <a href="works.html" class="back-btn"><i class="ri-arrow-left-line"></i> Back to Works</a>
                <div class="project-description" id="pDetailDesc"></div>
            </div>
        </div>
    </div>

    <footer>
        <p>&copy; 2026 Mithun. All rights reserved.</p>
    </footer>

    <div class="cursor"></div>
    <script src="projects.js"></script>
    <script src="script.js"></script>
    <script>
        // Specific logic to load project data
        document.addEventListener('DOMContentLoaded', () => {
            const params = new URLSearchParams(window.location.search);
            const index = params.get('id');
            const PROJECTS_KEY = 'mithun_portfolio_projects';

            if (index !== null) {
                // Ensure portfolioProjects is loaded
                if (typeof portfolioProjects !== 'undefined') {
                    const project = portfolioProjects[index];

                    if (project) {
                        document.title = `${project.title} - Mithun`;
                        document.getElementById('pDetailTitle').textContent = project.title;
                        // Use detail if available, else fallback to description
                        const detailedText = project.detail ? project.detail : project.description;
                        document.getElementById('pDetailDesc').innerHTML = detailedText;

                        // Handle Image
                        if (project.image) {
                            document.getElementById('pDetailImage').src = project.image;
                        } else {
                            document.getElementById('pDetailImage').style.background = 'var(--primary-color)';
                        }
                    } else {
                        document.getElementById('pDetailTitle').textContent = 'Project Not Found';
                    }
                } else {
                    console.error("Projects data not loaded");
                }
            } else {
                document.getElementById('pDetailTitle').textContent = 'Project Not Found';
            }
        });
    </script>
</body>

</html>